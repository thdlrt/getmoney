# 智能投顾系统项目设计说明书

### 目录

[TOC]

### 修订历史记录
| 日期|版本| 描述|作者|审核人|
|  ---   |---   | ---  | --- | ---  |
| 2023.3.29  | v1   |增加了图片，并且对内容进行了扩充 | Eric||
| 2023.3.29 | v2 |增加了图片 | zcyyds16 ||
| 2023.3.29 | v3 |增加了图片，内容扩充 | thdlrt ||


### 1. 简介

#### 1.1 目的和对象
##### 1.1.1 目的
- 本智能投顾系统的目的是为了帮助个人投资者进行投资决策，以达到其投资目标。它基于人工智能和机器学习技术，利用大数据和算法分析，提供个性化的投资建议和资产配置方案。
- 下图为NABCD模型分析：
  - ![1.1.1](https://thdlrt.oss-cn-beijing.aliyuncs.com/1.1.1.jpg)


插入图片

##### 1.1.2 对象
- **个体投资者**：智能投顾系统主要面向个体投资者，为其提供定制化的投资建议和投资组合，帮助其实现理财和财富增值。智能投顾系统为这些投资者提供了一种更为便捷和低成本的投资方案，同时帮助他们实现更好的投资回报。
- **机构用户**：智能投顾系统也面向机构用户，如基金管理公司、证券公司等，为其提供投资组合构建和管理等服务，帮助其提高投资回报率和客户满意度。
- **监管者**：智能投顾系统还面向监管者，如证监会等监管机构，为其提供投资数据和分析报告，帮助其监管市场和保障投资者权益。
- **投资顾问**：智能投顾系统也面向投资顾问，为其提供工具和支持，帮助其更好地为客户提供个性化的投资建议和服务。
- **金融从业者**：智能投顾系统还面向金融从业者，如投资经理、投资顾问等，为其提供投资分析和决策支持，帮助其更好地服务客户和管理资产。

#### 1.2 范围

- 本智能投顾系统项目的范围可以包括以下几个方面：
  - 投资组合构建和管理：智能投顾系统可以根据客户的风险偏好和投资目标，通过数据分析和算法模型构建个性化的投资组合，并进行实时的监控和管理。
  - 投资建议和决策支持：智能投顾系统可以根据客户的投资需求和市场情况，提供相关的投资建议和决策支持，包括行业分析、股票评级、市场趋势等。
  - 客户管理和服务支持：智能投顾系统可以对客户信息和交易记录进行管理和分析，为客户提供定制化的投资服务和支持，包括客户咨询、投诉处理等。
  - 风险管理和合规监控：智能投顾系统需要对投资组合和交易风险进行管理和监控，确保投资合规和风险控制，同时需要遵守相关的法律法规和监管要求。
- 本项目涵盖了从需求分析、设计、开发、测试、部署、运维等整个软件开发生命周期的所有阶段。
- 本项目的主要模块包括：
  - 数据采集和分析模块：采集和处理大量的投资数据和市场信息，进行数据分析和模型构建。通过爬虫等方式从各种金融数据源（如股票、基金、期货、外汇等）抓取实时和历史数据，并进行清洗、存储和更新。
  - 算法模型和决策支持模块：对数据进行分清洗、分析和挖掘，利用机器学习和人工智能技术，构建用户画像、风险评估、收益预测等模型，设计和实现各种投资算法模型和决策支持工具，以支持投资组合构建和管理等服务，并针对用户生成个性化的投资策略和建议。
  - 客户界面和交互设计：设计和实现用户友好的客户界面和交互体验，以便客户方便地查询和管理投资组合和交易记录等信息。并且支持友好的多系统访问模式，用户可以通过客户端访问系统，查看自己的投资状况、历史记录、分析报告等，并可以根据系统的建议进行操作或调整。
  - 合规和风险控制模块：保证本系统能够遵守相关的法律法规和监管要求，进行风险管理和合规监控。
  - 技术架构和安全设计模块：设计和实现可扩展、高效、安全的技术架构和数据管理系统，以保障系统的稳定性和数据安全。通过提供一个方便和高效的后台管理系统，让管理员可以对系统的运行状况、数据源、用户信息等进行监控和管理。

- <img src="https://thdlrt.oss-cn-beijing.aliyuncs.com/2.3.png" alt="2.3" style="zoom:67%;" />

### 2. 需求概述

#### 2.1 需求背景

- 随着互联网技术的发展和金融市场的活跃，人工智能、大数据等技术的应用越来越广泛，越来越多的人开始参与投资活动，智能投顾系统应运而生。希望通过投资获取更高的收益和财富增值。
- 投资者需求的变化：随着投资者需求的变化，越来越多的个人投资者希望获得更加个性化的投资建议和服务，智能投顾系统能够提供更加定制化的投资组合和服务，满足投资者的需求。
- 投资市场的竞争加剧：投资市场的竞争越来越激烈，传统的投资公司和机构需要不断提高服务质量和效率，智能投顾系统可以提高投资管理效率，提高客户满意度和回报率。
- 投资市场充满了不确定性和风险，需要有专业的知识和经验才能做出正确的判断和决策。同时，投资市场也在不断变化，需要有及时和准确的数据支持才能把握机会和趋势。

- 当前市面上的智能投顾系统存在一些不足，比如算法表现不尽如人意，缺乏人性化服务，安全风险高，缺乏监管标准，价格高昂等。用户期待有一款更加完善的智能投顾系统来帮助解决实际投资需求。本系统目标进一步加强技术创新和服务升级，提高用户体验和安全性。

#### 2.2 需求列表
> 对来自产品或需求方的原始需求描述

##### 2.2.1 功能性需求
- 用户可以通过浏览器访问系统，并注册和登录自己的账号。
- 用户可以在系统中填写自己的基本信息（如姓名、年龄、性别、职业等）、投资目标（如期望收益率、风险偏好等）、投资偏好（如喜欢哪些类型或行业的产品等）等，以便系统为其生成更合适的投资策略和建议。
- 用户可以在系统中查看自己的投资状况（如总资产、收益率、持仓情况等）、历史记录（如交易明细、收益曲线等）、分析报告（如风险评估、收益）
- 根据用户的风险偏好、投资目标和资金情况，提供个性化的投资建议和策略的网页版智能投顾平台。

##### 2.2.2 非功能性需求
- 观感需求：
  - 外观需求：外观必须简洁大气美观，具有金融特征。
  - 风格需求：要求良好的图形界面与用户交互界面。

- 易用性和人性化需求：
  - 易于使用的需求：导航与引用要直接明了，提供查询操作的服务。
  - 个性化和国际化需求：需要为用户提供个性化服务，可以切换主题，可以切换语言。
  - 学习的容易程度：必须使得新用户可以快速上手并且保持跟踪，当用户操作困难时有渠道反馈和提问。
  - 可理解性和礼貌需求：产品必须易于理解和尊重用户的需求，客服解决问题态度良好。
  - 可用性需求：必须提供高可用性、可靠性和可维护性的功能和设计。

- 执行需求：
  - 速度和延迟需求：在金融市场中响应要快，否则会出现用户遭受损失的情况。时延要短，反馈要及时，避免冲突。
  - 安全性：提供隐私保护，对用户的个人信息以及数据有良好的隐私维护，防止泄露措施。
  - 精度需求：产品必须提供高精度和准确性的功能和设计。
  - 可靠性和可访问性需求：描述产品必须提供高可靠性和易于访问的功能和设计。
  - 健壮性或容错需求：描述产品必须具有强健性和容错性，以处理异常情况和错误。
  - 容量需求：描述产品必须支持处理大量数据和用户的功能和设计。
  - 可伸缩性和可扩展需求：指产品需要能够随着业务需求的增长而增加其容量或功能的能力。
  - 寿命需求：需要保持系统性能和功能的时间长度或工作时间的要求。

- 操作需求：
  - 预期的物理环境需求：产品将被部署和使用的物理环境要良好，避免难以使用难以安装的情况。
  - 与相邻系统接口的需求：指产品需要与相邻系统进行交互的方式、数据格式和接口要求等方面需要简易并且稳定。
  - 产品化需求：需要满足可生产性、可测试性、可维护性和可支持性等方面的要求。
  - 发布需求：产品要有发布流程、发布版本和发布控制的说明以及更新的通知。
- 可维护性和支持需求：
  - 可维护性需求：软件要易于维护、修改、扩展和升级。
  - 支持需求：软件应支持时间和支持水平。
  - 适应能力需求：系统要适应新技术、新需求和新市场等方面并随之更新迭代。
- 安全需求：
  - 访问控制需求：用户访问控制、认证和授权等方面要完善且安全。
  - 完整性需求：保持数据完整性和操作完整性。
  - 稳私需求：保护隐私保护和信息安全。
  - 审计需求：保持审计安全以及财务安全。
  - 免疫力需求：需要防止恶意攻击和保证网络安全。
- 文化和政策需求：
  - 文化需求：满足中英文良好切换，在可能的条件下提供其他类型语言支持。
  - 政策需求：产品需要满足国家的政策法规、标准和规范。

#### 2.3 需求范围及限制

- 需求范围：本项目的需求范围包括以下几个方面：
  - 提供个性化的投资建议：智能投顾系统可以根据客户的投资偏好、风险承受能力、财务状况等因素，为客户量身定制投资建议，使投资策略更加个性化和精准。
  - 网页版智能投顾平台的前端设计和开发，包括用户界面、交互逻辑、视觉效果等。
  - 自动化投资：智能投顾系统可以自动化执行客户的投资策略，帮助客户实现投资目标，降低投资风险和费用。
  - 网页版智能投顾平台的后端设计和开发，包括爬虫模块、数据处理模块、智能算法模块、数据库模块、接口模块等。智能投顾系统可以通过大数据分析和机器学习技术，快速准确地评估投资标的和市场风险，提供智能化的投资决策。
  - 网页版智能投顾平台的测试和部署，包括功能测试、性能测试、安全测试、用户测试等。
  - 提供在线投资服务：客户可以随时随地进行投资操作，大大提高了投资的便捷性和效率。
- 需求限制：本项目的需求限制包括以下几个方面：
  - 数据质量：智能投顾系统的投资建议和决策需要基于充足、准确、及时的市场数据和历史数据，因此数据的质量是系统的重要限制。
  - 技术风险：智能投顾系统的建立和运营需要依赖于先进的技术手段，如人工智能、机器学习等，技术风险是系统的重要限制。
  - 市场风险：智能投顾系统的投资建议和决策受市场风险的影响，系统需要不断优化和调整投资策略，以适应市场的变化和波动。
  - 客户适宜性：智能投顾系统的投资建议和决策需要根据客户的风险承受能力和投资目标等因素进行个性化调整，因此客户适宜性是系统的重要限制。
  - 时间限制：本项目的开发周期为3个月，需在2023年春季学期结束前完成并交付。
  - 资源限制：本项目的开发团队为4人
  - 技术限制：本项目的开发语言为Python，使用Django框架，数据库为MySQL，爬虫框架为Scrapy，智能算法框架为TensorFlow，前端框架为Vue.js，部署环境为Linux。

- <img src="https://thdlrt.oss-cn-beijing.aliyuncs.com/1.2.png" alt="1.2" style="zoom:50%;" />

### 3.需求分析

#### 3.1 竞品分析

> 本章节说明市场上同类软件产品的分析以及分析后的结论。重点分析：方案实现原理和方法，技术参数指标；并需要回归自身产品，给出优劣对比、对我们的启示等

**智能投顾系统是一种利用人工智能和机器学习技术来为投资者提供个性化投资建议的工具。以下是目前市场上的一些智能投顾系统的竞品分析：**

**竞品一：米筐科技（https://www.ricequant.com/）**
  - 特点：专注于提供新一代量化资产管理系统，包括数据、投研、风险业绩归因和一体化资产管理平台。提供云端和本地化的量化投研工具，支持多资产、多频率、多策略的回测和模拟交易。
  -  优点：数据质量高，API接口易用，回测引擎透明灵活，风险模型贴合中国市场，支持多人协作和云端计算。
  - 缺点：收费较高，需要专业的量化知识和编程能力，不适合普通投资者。
  - 实现方法和技术指标：基于Python的RQAlpha Plus回测引擎，支持日、分钟、tick级别的数据和交易；基于RQData金融数据API，提供丰富整齐的金融数据；基于RQBeta风险模型，提供风格因子、行业因子、市场联动因子等风险因子分析；基于RQAMS智能资产管理系统，提供多资产管理、多维度投资管理、本地化部署等功能。
  - 启示：我们可以借鉴米筐科技的量化投研工具和风险模型，提高我们的投资效率和风险控制能力；同时，我们可以针对普通投资者的需求，提供更低成本、更易用、更智能的网页版智能投顾系统。

**竞品二：蚂蚁智能投顾**
  - 特点：蚂蚁金服与全球最大公募资管机构Vanguard集团合作推出的基金投资顾问服务，通过支付宝平台提供
  - 优点：操作简单，只需填写基本信息和回答几个问题，就可以得到专业的投资方案；服务全面，涵盖多种资产类别，满足不同用户的需求；收费透明，按照年化管理费率收取，无其他隐藏费用
  - 缺点：方案较为固定，不能根据市场变化及时调整；服务范围有限，只针对中国大陆市场，不涉及海外投资；数据来源依赖于蚂蚁集团旗下的支付宝平台，可能存在数据偏差或泄露的风险。
  - 实现方法和技术指标：利用大数据和AI技术，根据用户的风险偏好、投资期限、收益目标等，为用户生成专属的投资策略组合，并根据市场变化进行定期调仓
  - 启示：我们可以在持仓基金的多样性和个性化方面做出创新，增加用户的选择空间和满意度；此外，我们还可以根据用户的实时反馈和行为数据，动态调整投顾策略，提高服务的灵活性和适应性

**竞品三：同花顺**
  - 特点：同花顺是国内领先的金融数据、信息和软件服务企业，旗下推出了在线实时金融信息终端IFinD，以及智能投顾平台万得智投
  - 优点：提供丰富的金融数据和信息，覆盖股票、基金、期货、外汇等多个市场；提供多种智能工具，如量化策略、风险评估、回测分析等，帮助用户优化投资决策；提供多样化的投顾产品，如指数增强、主动择时、定制组合等，满足不同类型的投资者需求
  - 缺点：投资门槛较高（1万元起），服务费用较高（1%~2%年化），产品复杂度较高，需要一定的金融知识和操作经验；产品风险较高，收益波动较大，不适合风险厌恶和保守型的投资者
  - 实现方法和技术指标：同花顺的实现方法主要是基于互联网技术和大数据技术，通过搭建一个全面的金融信息服务平台，为用户提供各种金融投资品种的行情、资讯、交易、社区等功能；同时，通过AI技术和量化分析技术，构建问财智能投顾系统，为用户提供智能选股、量化投资、技术分析等服务。同花顺的技术指标主要包括用户规模、活跃度、满意度、收益率等。
  - 启示：同花顺暴露了一个综合性的金融投资服务平台的局限性和挑战，我们可以避免其功能过于复杂和繁杂的缺点，为用户提供更简洁和易用的界面和操作。

相比于市场上的同类软件产品，本网页版智能投顾系统有以下优势：
  1. 数据来源更广泛，可以从各种网站上获取金融数据和资讯，不受限于特定的平台或渠道。
  2. 数据更新更及时，可以实时地抓取最新的金融数据和资讯，不会出现滞后或过时的情况。
  3. 数据分析更深入，可以利用人工智能算法对数据进行多维度和多层次的分析，不仅考虑基本面和技术面，还可以考虑市场情绪和舆情等因素。
  4. 投资建议更个性化，可以根据用户的风险偏好和收益目标，以及用户的反馈和行为，动态地调整投资策略
  5. 完全免费

#### 3.2	功能性需求

- | 功能性需求编号 | 需求说明               | 优先级 |           备注                          |
  | -------------- | --------------------------------------------- | ------ | :----------------------------------------------------: |
  | FR-01          | 实现爬虫模块，能够从指定的网站抓取股票、基金、债券等金融产品的信息，包括价格、涨跌幅、市值、净值等。 | 高     |      需要考虑网站的反爬策略，以及数据的清洗和存储      |
  | FR-02          | 实现智能投顾模块，能够根据用户的风险偏好、收益目标、投资期限等条件，为用户推荐合适的投资组合，并提供相应的理由和证据。 | 高     |     需要考虑投资组合的优化算法，以及用户的反馈机制     |
  | FR-03          | 实现网页版界面，能够让用户通过浏览器访问系统，输入自己的投资需求，查看系统的推荐结果，并进行交互。 | 中     | 需要考虑界面的美观和易用性，以及兼容不同的浏览器和设备 |
  | FR-04          | 实现管理员登陆及系统后台管理界面，使管理人员可以对网页内容、数据、用户信息等内容进行操作 | 中     |     需要考虑管理员的身份验证机制，保障系统的安全性     |



#### 设计约束

> 本章节说明软件设计过程中受到的限制

##### 3.3.1业务级约束

- 系统必须能够根据用户的风险偏好和投资目标，自动推荐投资组合
- 系统必须能够根据用户的交易记录和市场情况，自动调整投资组合
- 系统必须能够提供实时的股票行情和分析报告
- 系统必须能够保证数据的安全性和隐私性

##### 3.3.2用户级约束

- 用户可能使用不同的浏览器或终端设备访问网站，要考虑网页的适配问题
- 用户年龄可能不同，在页面设计、操作逻辑上要考虑不同用户的使用习惯
- 用户可能不具备计算机、金融相关知识，网页需要简单易用

##### 3.3.3开发级约束

- 系统需要使用Python语言开发，以便利用丰富的爬虫和数据分析库
- 系统需要使用Django框架以及pip语言搭建网页版后端，以便于实现MVC模式和RESTful API
- 系统需要使用Vue框架搭建网页版前端，以便于实现响应式布局和交互效果
- 系统需要使用MySQL数据库存储爬取的数据和用户的信息，以便于实现数据的持久化和查询
- 系统需要遵守相关的法律法规和道德规范，不得侵犯他人的知识产权和隐私权，尤其是在爬虫时

#### 3.4	依赖分析

##### 3.4.1 依赖内容

> 本章节说明软件对外部的依赖，包括对外部模块、外部SDK等。通过周边依赖分析，可以识别关键接口和异常设计点，在设计中考虑

- 系统依赖于Scrapy库实现爬虫功能，需要调用其提供的API进行爬虫的配置、启动、停止等操作
- 系统依赖于Pandas、Beautifulsoup库实现数据分析功能，需要调用其提供的API进行数据的读取、处理、分析等操作
- 系统依赖于PyPortfolioOpt库实现投资组合优化功能，需要调用其提供的API进行风险评估、资产配置、效用函数等操作
- 系统依赖于ECharts库实现图表展示功能，需要调用其提供的API进行图表的生成、渲染、交互等操作
- 系统依赖于东方财富网等提供的免费股票数据库
- 系统依赖于阿里云等云linux服务器运行程序后台程序
- 系统依赖于公开网页ui设计资源

##### 3.4.2需求依赖分析图示

- <img src="https://thdlrt.oss-cn-beijing.aliyuncs.com/%E5%8A%9F%E8%83%BD%E6%80%A7%E9%9C%80%E6%B1%82%E4%BB%A5%E5%8F%8A%E5%AE%9E%E7%8E%B0.png" alt="功能性需求以及实现" style="zoom: 33%;" />

### 4.系统方案设计

#### 4.1 零层设计

> 本章节主要展示整个系统的软件结构，说明本软件与周边（外部）主要交互模块的关系 ，描述模块间的关系和交互形式

##### 4.1.1 零层数据流程图

- <img src="https://thdlrt.oss-cn-beijing.aliyuncs.com/image-20230329104954008.png" alt="image-20230329104954008" style="zoom: 43%;" />

##### 4.1.2 结构化实体关系图

- ![ER图](https://my-oss-pic.oss-cn-nanjing.aliyuncs.com/img/202303291210034.jpg)

#### 4.2 一层设计

##### 4.2.1 方案选型

> 本章节主要说明在设计过程中遇到多种可行的方案时（或者业界有多种成熟的方案），如何选型

##### 4.2.2 整体框图

> 本章节主要描述本软件设计整体框图，以及必要的文字描述

##### 4.2.3 模块设计

> 本章节主要对重点模块进行详细设计描述，尤其是**重点算法**、优化点等

##### 4.2.4 关键流程设计

> 本章节主要对关键流程（包括正常和异常）进行详细描述，描述不同模块、数据、进程之间的运行情况和时序。

###### 4.2.4.1 一层数据流程图

- <img src="https://thdlrt.oss-cn-beijing.aliyuncs.com/image-20230329104849085.png" alt="image-20230329104849085" style="zoom: 50%;" />

#### 4.3 二层设计

#### 4.4 技术方案风险点

